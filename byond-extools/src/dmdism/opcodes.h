#pragma once

#include <unordered_map>

enum Bytecode
{
	UNK = -1,
	END = 0x00,
	NEW = 0x01,

	FORMAT = 0x02,

	OUTPUT = 0x03,
	OUTPUT_FORMAT = 0x04,
	TEST = 0x0D,
	NOT = 0x0E,
	JMP = 0x0F,

	JNZ = 0x10,

	JZ = 0x11,
	RET = 0x12,

	ISLOC = 0x13,
	ISMOB = 0x14,
	ISOBJ = 0x15,
	ISAREA = 0x16,
	ISTURF = 0x17,
	EMPTYLIST = 0x19,

	NEWLIST = 0x1A,

	VIEW = 0x1B,
	OVIEW = 0x1C,
	VIEW_TARGET = 0x1D,
	OVIEW_TARGET = 0x1E,

	SLEEP = 0x24,
	SPAWN = 0x25,
	CALL = 0x29,
	CALLNR = 0x2A,
	CALLPATH = 0x2B,
	CALLPARENT = 0x2C,
	CALLGLOB = 0x30,
	GETVAR = 0x33,
	SETVAR = 0x34,
	GETFLAG = 0x36,
	TEQ = 0x37,
	TNE = 0x38,
	TL = 0x39,
	TG = 0x3A,
	TLE = 0x3B,
	TGE = 0x3C,
	ANEG = 0x3D,
	ADD = 0x3E,
	SUB = 0x3F,
	MUL = 0x40,
	DIV = 0x41,
	MOD = 0x42,
	ROUND = 0x43,
	ROUNDN = 0x44,
	AUGADD = 0x45,
	AUGSUB = 0x46,
	AUGMUL = 0x47,
	AUGDIV = 0x48,
	AUGMOD = 0x49,
	AUGAND = 0x4A,
	AUGOR = 0x4B,
	AUGXOR = 0x4C,
	AUGLSHIFT = 0x4D,
	AUGRSHIFT = 0x4E,
	PUSHI = 0x50,
	POP = 0x51,
	ITERLOAD = 0x52,
	ITERNEXT = 0x53,
	LOCATE = 0x5B,
	PUSHVAL = 0x60,
	INC = 0x66,
	DEC = 0x67,
	SQRT = 0x69,
	POW = 0x6A,

	LENGTH = 0x6D,
	FINDTEXT = 0x6F,
	SWITCH = 0x78,
	SWITCH_RANGE = 0x7A,

	LISTGET = 0x7B,
	LISTSET = 0x7C,
	ISTYPE = 0x7D,
	BINARY_AND = 0x7E,
	BINARY_OR = 0x7F,
	BINARY_XOR = 0x80,

	BITWISE_NOT = 0x81,
	LSHIFT = 0x82,
	RSHIFT = 0x83,

	DBG_FILE = 0x84,
	DBG_LINENO = 0x85,
	ISNULL = 0x9E,

	ISNUM = 0x9F,

	ISINLIST = 0xA9,

	LOGICAL_OR = 0xB2,
	LOGICAL_AND = 0xB3,

	CALLNAME = 0xB5,
	PROMPTCHECK = 0xBA,
	INPUT_ = 0xC1, //INPUT without underscore was already defined in some windows header
	CRASH = 0xC7,
	ICON_NEW = 0xDE,
	JMP2 = 0xF8,
	JNZ2 = 0xFA,
	POPN = 0xFB,
	CHECKNUM = 0xFC,
	FOR_RANGE = 0xFD,
	MD5 = 0x109,
	CALL_LIB = 0x116,
	ICON_BLEND = 0x119,
	MATRIX_NEW = 0x12A,
	REPLACETEXT = 0x130,
	REGEX_NEW = 0x13A,
	DBG_BREAK = 0x1337,
};

enum AccessModifier
{
	SRC = 0xFFCE,
	DOT = 0xFFD0,
	ARG = 0xFFD9,
	LOCAL = 0xFFDA,
	GLOBAL = 0xFFDB,
	SUBVAR = 0xFFDC,
	CACHE = 0xFFDD,
	WORLD = 0xFFE5,
	NULL_ = 0xFFE6,
};

const std::unordered_map<AccessModifier, std::string> modifier_names = {
	{SRC, "SRC"},
	{DOT, "DOT" },
	{ARG, "ARG" },
	{LOCAL, "LOCAL"},
	{GLOBAL, "GLOBAL" },
	{SUBVAR, "SUBVAR"},
	{CACHE, "CACHE"},
	{WORLD, "WORLD"},
	{NULL_, "NULL"},
};

enum DataType
{
	NULL_D = 0x00,
	TURF = 0x01,
	OBJ = 0x02,
	MOB = 0x03,
	AREA = 0x04,
	CLIENT = 0x05,
	STRING = 0x06,
	MOBTYPE = 0x08,
	OBJTYPE = 0x09,
	IMAGE = 0x0D,
	WORLD_D = 0x0E,
	DATUM = 0x21,
	SAVEFILE = 0x23,
	FILE_ = 0x27,
	PATH_LIST = 0x28,
	NUMBER = 0x2A,
	CLIENTTYPE = 0x3B
};

const std::unordered_map<DataType, std::string> datatype_names = {
	{ NULL_D, "NULL" },
	{ TURF, "TURF" },
	{ OBJ, "OBJ" },
	{ MOB, "MOB" },
	{ AREA, "AREA" },
	{ CLIENT, "CLIENT" },
	{ STRING, "STRING" },
	{ MOBTYPE, "MOBTYPE" },
	{ OBJTYPE, "OBJTYPE" },
	{ IMAGE, "IMAGE" },
	{ WORLD_D, "WORLD" },
	{ DATUM, "DATUM" },
	{ SAVEFILE, "SAVEFILE" },
	{ PATH_LIST, "PATH_LIST" },
	{ NUMBER, "NUMBER" },
	{ CLIENTTYPE, "CLIENTTYPE" }
};

const std::unordered_map<Bytecode, std::string> mnemonics = {
	{UNK, "???"},
	{END, "END"},
	{NEW, "NEW"},
	{OUTPUT, "OUTPUT"},
	{OUTPUT_FORMAT, "FOUTPUT"},
	{TEST, "TEST"},
	{NOT, "NOT"},
	{JMP, "JMP"},
	{JZ, "JZ"},
	{RET, "RET"},
	{NEWLIST, "NEWLIST"},
	{SLEEP, "SLEEP"},
	{SPAWN, "SPAWN"},
	{CALL, "CALL"},
	{CALLNR, "CALLNR"},
	{CALLPATH, "CALLPATH"},
	{CALLPARENT, "CALLPARENT"},
	{CALLGLOB, "CALLGLOB"},
	{GETVAR, "GETVAR"},
	{SETVAR, "SETVAR"},
	{GETFLAG, "GETFLAG"},
	{TEQ, "TEQ"},
	{TNE, "TNE"},
	{TL, "TL"},
	{TG, "TG"},
	{TLE, "TLE"},
	{TGE, "TGE"},
	{ANEG, "ANEG"},
	{ADD, "ADD"},
	{SUB, "SUB"},
	{MUL, "MUL"},
	{DIV, "DIV"},
	{MOD, "MOD"},
	{ROUND, "ROUND"},
	{ROUNDN, "ROUNDN"},
	{AUGADD, "AUGADD"},
	{AUGSUB, "AUGSUB"},
	{AUGMUL, "AUGMUL" },
	{AUGDIV, "AUGDIV" },
	{AUGMOD, "AUGMOD"},
	{AUGAND, "AUGAND" },
	{AUGOR, "AUGOR" },
	{AUGXOR, "AUGXOR" },
	{AUGLSHIFT, "AUGLSHIFT" },
	{AUGRSHIFT, "AUGRSHIFT" },
	{PUSHI, "PUSHI"},
	{POP, "POP"},
	{ITERLOAD, "ITERLOAD"},
	{ITERNEXT, "ITERNEXT"},
	{LOCATE, "LOCATE"},
	{PUSHVAL, "PUSHVAL"},
	{INC, "INC"},
	{DEC, "DEC"},
	{SQRT, "SQRT"},
	{POW, "POW"},
	{FINDTEXT, "FINDTEXT"},
	{LISTGET, "LISTGET"},
	{LISTSET, "LISTSET"},
	{ISTYPE, "ISTYPE"},
	{DBG_FILE, "DBG FILE"},
	{DBG_LINENO, "DBG LINENO"},
	{ISNULL, "ISNULL"},
	{ISINLIST, "ISINLIST"},
	{CALLNAME, "CALLNAME"},
	{PROMPTCHECK, "PROMPTCHECK"},
	{INPUT_, "INPUT"},
	{CRASH, "CRASH"},
	{ICON_NEW, "ICON_NEW"},
	{JMP2, "JMP"},
	{JNZ2, "JNZ"},
	{POPN, "POPN"},
	{CHECKNUM, "CHECKNUM"},
	{FOR_RANGE, "FOR_RANGE"},
	{MD5, "MD5"},
	{CALL_LIB, "CALL_LIB"},
	{ICON_BLEND, "ICON_BLEND"},
	{MATRIX_NEW, "MATRIX_NEW"},
	{REPLACETEXT, "REPLACETEXT"},
	{REGEX_NEW, "REGEX_NEW"},
	{DBG_BREAK, "DBG BREAK"},
};
